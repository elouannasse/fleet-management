{
  "info": {
    "name": "Fleet Management API",
    "description": "Collection complète pour tester tous les endpoints de l'API Fleet Management",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register Chauffeur",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Mohammed Chauffeur\",\n  \"email\": \"chauffeur@test.com\",\n  \"password\": \"test123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/register",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "register"]
            }
          }
        },
        {
          "name": "Login Admin",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@fleet.com\",\n  \"password\": \"admin123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "login"]
            }
          }
        },
        {
          "name": "Login Chauffeur",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"chauffeur@test.com\",\n  \"password\": \"test123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "login"]
            }
          }
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": {
              "raw": "{{base_url}}/api/auth/me",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "me"]
            }
          }
        }
      ]
    },
    {
      "name": "Camions",
      "item": [
        {
          "name": "Get All Camions",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": {
              "raw": "{{base_url}}/api/camions?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "camions"],
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "10" },
                { "key": "statut", "value": "disponible", "disabled": true },
                { "key": "marque", "value": "Mercedes", "disabled": true },
                { "key": "annee", "value": "2022", "disabled": true }
              ]
            }
          }
        },
        {
          "name": "Get Camion By ID",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": {
              "raw": "{{base_url}}/api/camions/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "camions", ":id"],
              "variable": [{ "key": "id", "value": "" }]
            }
          }
        },
        {
          "name": "Get Available Camions",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": {
              "raw": "{{base_url}}/api/camions/disponibles",
              "host": ["{{base_url}}"],
              "path": ["api", "camions", "disponibles"]
            }
          }
        },
        {
          "name": "Create Camion (Admin)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"matricule\": \"ABC-123-45\",\n  \"marque\": \"Mercedes\",\n  \"modele\": \"Actros\",\n  \"annee\": 2022,\n  \"kilometrage\": 50000,\n  \"capaciteCharge\": 25000,\n  \"statut\": \"disponible\",\n  \"remarques\": \"Camion neuf\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/camions",
              "host": ["{{base_url}}"],
              "path": ["api", "camions"]
            }
          }
        },
        {
          "name": "Update Camion (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"kilometrage\": 55000,\n  \"statut\": \"en maintenance\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/camions/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "camions", ":id"],
              "variable": [{ "key": "id", "value": "" }]
            }
          }
        },
        {
          "name": "Delete Camion (Admin)",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": {
              "raw": "{{base_url}}/api/camions/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "camions", ":id"],
              "variable": [{ "key": "id", "value": "" }]
            }
          }
        }
      ]
    },
    {
      "name": "Remorques",
      "item": [
        {
          "name": "Get All Remorques",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": {
              "raw": "{{base_url}}/api/remorques?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "remorques"],
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "10" },
                { "key": "statut", "value": "disponible", "disabled": true },
                { "key": "type", "value": "frigorifique", "disabled": true }
              ]
            }
          }
        },
        {
          "name": "Get Remorque By ID",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": {
              "raw": "{{base_url}}/api/remorques/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "remorques", ":id"],
              "variable": [{ "key": "id", "value": "" }]
            }
          }
        },
        {
          "name": "Get Available Remorques",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": {
              "raw": "{{base_url}}/api/remorques/disponibles",
              "host": ["{{base_url}}"],
              "path": ["api", "remorques", "disponibles"],
              "query": [
                { "key": "type", "value": "frigorifique", "disabled": true }
              ]
            }
          }
        },
        {
          "name": "Create Remorque (Admin)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"matricule\": \"REM-456-78\",\n  \"type\": \"frigorifique\",\n  \"capacite\": 30000,\n  \"statut\": \"disponible\",\n  \"remarques\": \"Remorque neuve\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/remorques",
              "host": ["{{base_url}}"],
              "path": ["api", "remorques"]
            }
          }
        },
        {
          "name": "Update Remorque (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"statut\": \"en maintenance\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/remorques/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "remorques", ":id"],
              "variable": [{ "key": "id", "value": "" }]
            }
          }
        },
        {
          "name": "Delete Remorque (Admin)",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": {
              "raw": "{{base_url}}/api/remorques/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "remorques", ":id"],
              "variable": [{ "key": "id", "value": "" }]
            }
          }
        }
      ]
    },
    {
      "name": "Pneus",
      "item": [
        {
          "name": "Get All Pneus",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": {
              "raw": "{{base_url}}/api/pneus?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "pneus"],
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "10" },
                { "key": "etat", "value": "bon", "disabled": true },
                { "key": "vehiculeType", "value": "camion", "disabled": true }
              ]
            }
          }
        },
        {
          "name": "Get Pneu By ID",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": {
              "raw": "{{base_url}}/api/pneus/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "pneus", ":id"],
              "variable": [{ "key": "id", "value": "" }]
            }
          }
        },
        {
          "name": "Get Pneus By Vehicle",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": {
              "raw": "{{base_url}}/api/pneus/vehicule/:vehiculeType/:vehiculeId",
              "host": ["{{base_url}}"],
              "path": [
                "api",
                "pneus",
                "vehicule",
                ":vehiculeType",
                ":vehiculeId"
              ],
              "variable": [
                { "key": "vehiculeType", "value": "camion" },
                { "key": "vehiculeId", "value": "" }
              ]
            }
          }
        },
        {
          "name": "Create Pneu (Admin)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reference\": \"PNEU-001\",\n  \"marque\": \"Michelin\",\n  \"dimension\": \"315/80R22.5\",\n  \"position\": \"avant-gauche\",\n  \"vehiculeType\": \"camion\",\n  \"vehicule\": \"CAMION_ID_HERE\",\n  \"kilometrageInstallation\": 50000,\n  \"etat\": \"neuf\",\n  \"pressionRecommandee\": 9.5,\n  \"remarques\": \"Installation neuve\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/pneus",
              "host": ["{{base_url}}"],
              "path": ["api", "pneus"]
            }
          }
        },
        {
          "name": "Update Pneu (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"etat\": \"bon\",\n  \"remarques\": \"Contrôle effectué\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/pneus/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "pneus", ":id"],
              "variable": [{ "key": "id", "value": "" }]
            }
          }
        },
        {
          "name": "Update Pneu Etat",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"etat\": \"usé\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/pneus/:id/etat",
              "host": ["{{base_url}}"],
              "path": ["api", "pneus", ":id", "etat"],
              "variable": [{ "key": "id", "value": "" }]
            }
          }
        },
        {
          "name": "Delete Pneu (Admin)",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": {
              "raw": "{{base_url}}/api/pneus/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "pneus", ":id"],
              "variable": [{ "key": "id", "value": "" }]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "token",
      "value": "",
      "type": "string",
      "description": "JWT Token - Copier depuis Login"
    },
    {
      "key": "base_url",
      "value": "http://localhost:5000",
      "type": "string"
    }
  ]
}
